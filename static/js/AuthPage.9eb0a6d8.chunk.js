"use strict";(self.webpackChunkphonebook_frontend=self.webpackChunkphonebook_frontend||[]).push([[420],{3257:function(e,r,n){n.r(r),n.d(r,{default:function(){return R}});var a=n(4554),t=n(890),s=n(5861),o=n(9439),i=n(1413),l=n(4687),c=n.n(l),u=n(2791),d=n(3044),m=n(6151),p=n(4708),x=n(5100),f=n(5523),h=n(4479),g=n(765),b=n(8096),v=n(7133),j=n(5527),Z=n(1889),w=n(403),y=n(7107),k=n(7012),P=n(468),C=n(7689),S=n(5985),A=n(5749),F=n(1243),D=n(184),W=JSON.parse(localStorage.getItem("formData")),E=function(){var e=(0,s.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:"".concat(W.email)},e.next=3,F.Z.post("http://localhost:8080/api/users/verify",r).then((function(e){S.Am.success(e.data.message),console.log(e.data)})).catch((function(e){S.Am.error("Verification has already been passed"),console.error(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(m.Z,{onClick:E,fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Recent Email"})})};function I(e){return(0,D.jsxs)(t.Z,(0,i.Z)((0,i.Z)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",(new Date).getFullYear(),"."]}))}var L=(0,y.Z)();function N(){var e=(0,C.s0)(),r=(0,u.useState)(!1),n=(0,o.Z)(r,2),i=n[0],l=n[1],y=(0,P.YA)(),F=(0,o.Z)(y,2),W=F[0],E=F[1],N=E.isSuccess,R=E.isError,V=E.error,B=(0,P.Bl)(),J=(0,o.Z)(B,2),O=J[0],Y=J[1],_=Y.isSuccess,z=Y.isError,G=Y.error,H=function(){var e=(0,s.Z)(c().mark((function e(r){var n,a,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n=r.target,a=n.email.value,t=n.password.value,!a||!t){e.next=15;break}return e.prev=5,e.next=8,W({email:a,password:t});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),S.Am.error(e.t0.data.message);case 13:e.next=16;break;case 15:S.Am.error("Please fill all Fields");case 16:n.reset();case 17:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(r){return e.apply(this,arguments)}}(),K=function(){var e=(0,s.Z)(c().mark((function e(r){var n,a,t,s,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n=r.target,a=n.name.value,t=n.email.value,s=n.password.value,o=n.subscription.value,!(a&&t&&s&&o)){e.next=18;break}return e.prev=7,e.next=10,O({name:a,email:t,password:s,subscription:o});case 10:localStorage.setItem("formData",JSON.stringify({name:a,email:t,password:s,subscription:o})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.error(e.t0);case 16:e.next=19;break;case 18:S.Am.error("Please fill all Fields");case 19:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(r){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){N&&(S.Am.success("Login success"),e("/contacts")),_&&S.Am.success("Signup success. Verify you email")}),[N,R,V,_,e]),(0,u.useEffect)((function(){R&&S.Am.error(null===V||void 0===V?void 0:V.data.message),z&&S.Am.error(null===G||void 0===G?void 0:G.data.message)}),[R,V,z,G]),(0,D.jsx)(k.Z,{theme:L,children:(0,D.jsxs)(Z.ZP,{container:!0,component:"main",sx:{height:"100vh",marginLeft:"20px",marginRight:"20px"},children:[(0,D.jsx)(p.ZP,{}),(0,D.jsx)(Z.ZP,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(".concat(A,")"),backgroundRepeat:"no-repeat",backgroundPosition:"left top",height:"100%",width:"300px",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover"}}),(0,D.jsx)(Z.ZP,{item:!0,xs:12,sm:8,md:5,component:j.Z,elevation:6,square:!0,children:(0,D.jsxs)(a.Z,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,D.jsx)(d.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,D.jsx)(w.Z,{})}),(0,D.jsx)(t.Z,{component:"h1",variant:"h5",children:i?"Register":"Login"}),(0,D.jsx)("p",{className:"text-blue-50 mb-4",children:l?"Please enter user detail":"Please enter your email & password"}),(0,D.jsxs)(a.Z,{component:"form",noValidate:!0,onSubmit:i?K:H,sx:{mt:1},children:[i&&(0,D.jsx)(x.Z,{margin:"normal",required:!0,fullWidth:!0,id:"name",label:"name ",name:"name",autoComplete:"name",autoFocus:!0}),(0,D.jsx)(x.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),(0,D.jsx)(x.Z,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),i&&(0,D.jsxs)("div",{children:[(0,D.jsx)(x.Z,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm password",type:"password",id:"confirmPassword",autoComplete:"current-password"}),(0,D.jsxs)(b.Z,{children:[(0,D.jsx)(v.Z,{id:"demo-row-radio-buttons-group-label",children:"Choose your account type"}),(0,D.jsxs)(g.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",defaultValue:"starter",children:[(0,D.jsx)(f.Z,{value:"pro",name:"subscription",control:(0,D.jsx)(h.Z,{}),label:"Pro"}),(0,D.jsx)(f.Z,{value:"starter",name:"subscription",control:(0,D.jsx)(h.Z,{}),label:"Starter"}),(0,D.jsx)(f.Z,{value:"business",name:"subscription",control:(0,D.jsx)(h.Z,{}),label:"Business"})]})]})]}),(0,D.jsx)(m.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:i?"Sign In":"Login"}),i&&(0,D.jsx)(q,{}),(0,D.jsx)(Z.ZP,{container:!0,children:(0,D.jsx)(Z.ZP,{item:!0,children:i?(0,D.jsxs)(D.Fragment,{children:["Already have an account?",(0,D.jsx)("p",{className:"text-blue-50 fw-bold",style:{cursor:"pointer"},onClick:function(){return l(!1)},children:"Login"})]}):(0,D.jsxs)(D.Fragment,{children:["Don't have an account?",(0,D.jsx)("p",{className:"text-blue-50 fw-bold",style:{cursor:"pointer"},onClick:function(){return l(!0)},children:"Signup"})]})})}),(0,D.jsx)(I,{sx:{mt:5}})]})]})})]})})}var R=function(){return(0,D.jsxs)(a.Z,{children:[(0,D.jsxs)(t.Z,{sx:{typography:{xs:"h3",lg:"h1"}},component:"h1",color:"#1976d2",children:["Welcome to ",(0,D.jsx)("br",{})]}),(0,D.jsx)(N,{})]})}},5749:function(e,r,n){e.exports=n.p+"static/media/desktop.77f23095a813fefd025b.jpg"}}]);
//# sourceMappingURL=AuthPage.9eb0a6d8.chunk.js.map